{% extends 'layout_dashboard.html.twig' %}

{% block title %}Dashboard {{ parent() }} {% endblock %}

{% block content %}
    <div class="row ">
        <div class="col-md-6 col-lg-6 col-xl-6 col-xxl-6 mb-10">
            <!--begin::Card widget 1-->
            <div class="card card-flush h-md-100 mb-5 mb-xl-10">
                <!--begin::Header-->
                <div class="card-header pt-5">
                    <!--begin::Title-->
                    <div class="card-title d-flex flex-column">
                        <!--begin::Info-->
                        <div class="d-flex align-items-center">
                            <span class="fs-2hx fw-bold text-gray-900 me-2 lh-1 ls-n2">{{ educations['educationsCount'] }}</span>
                            <!--end::Amount-->
                        </div>
                        <!--end::Info-->
                        <!--begin::Subtitle-->
                        <span class="text-gray-500 pt-1 fw-semibold fs-6">All educations</span>
                        <!--end::Subtitle-->
                    </div>
                    <!--end::Title-->
                </div>
                <!--end::Header-->
                <!--begin::Card body-->
                <div class="card-body pt-2 pb-4 d-flex align-items-center">
                    <!--begin::Chart-->
                    <div class="d-flex flex-center me-5 pt-2">
                        <input id="courses" value="{{ educations['coursesCount'] }}" hidden>
                        <input id="workshops" value="{{ educations['workshopsCount'] }}" hidden>
                        <input id="conventions" value="{{ educations['conventionsCount'] }}" hidden>
                        <div id="kt_card_widget_4_chart" style="" data-kt-size="" data-kt-line=""></div>
                    </div>
                    <!--end::Chart-->
                    <!--begin::Labels-->
                    <div class="d-flex flex-column content-justify-center w-100">
                        <!--begin::Label-->
                        <div class="d-flex fs-6 fw-semibold align-items-center">
                            <!--begin::Bullet-->
                            <div class="bullet w-8px h-6px rounded-2 bg-danger me-3"></div>
                            <!--end::Bullet-->
                            <!--begin::Label-->
                            <div class="text-gray-500 flex-grow-1 me-4">Courses</div>
                            <!--end::Label-->
                            <!--begin::Stats-->
                            <div class="fw-bolder text-gray-700 text-xxl-end">{{ educations['coursesCount'] }}</div>
                            <!--end::Stats-->
                        </div>
                        <!--end::Label-->
                        <!--begin::Label-->
                        <div class="d-flex fs-6 fw-semibold align-items-center my-3">
                            <!--begin::Bullet-->
                            <div class="bullet w-8px h-6px rounded-2 bg-primary me-3"></div>
                            <!--end::Bullet-->
                            <!--begin::Label-->
                            <div class="text-gray-500 flex-grow-1 me-4">Workshops</div>
                            <!--end::Label-->
                            <!--begin::Stats-->
                            <div class="fw-bolder text-gray-700 text-xxl-end">{{ educations['workshopsCount'] }}</div>
                            <!--end::Stats-->
                        </div>
                        <!--end::Label-->
                        <!--begin::Label-->
                        <div class="d-flex fs-6 fw-semibold align-items-center">
                            <!--begin::Bullet-->
                            <div class="bullet w-8px h-6px rounded-2 me-3" style="background-color: #E4E6EF"></div>
                            <!--end::Bullet-->
                            <!--begin::Label-->
                            <div class="text-gray-500 flex-grow-1 me-4">Conventions</div>
                            <!--end::Label-->
                            <!--begin::Stats-->
                            <div class="fw-bolder text-gray-700 text-xxl-end">{{ educations['conventionsCount'] }}</div>
                            <!--end::Stats-->
                        </div>
                        <!--end::Label-->
                    </div>
                    <!--end::Labels-->
                </div>
                <!--end::Card body-->
            </div>
            <!--end::Card widget 1-->
        </div>

        <div class="col-md-6 col-lg-6 col-xl-6 col-xxl-6 mb-10">
            <!--begin::Card widget 6-->
            <div class="card card-flush h-md-100 mb-5 mb-xl-10">
                <!--begin::Header-->
                <div class="card-header pt-5">
                    <!--begin::Title-->
                    <div class="card-title d-flex flex-column">
                        <!--begin::Info-->
                        <div class="d-flex align-items-center">
                            <!--begin::Currency-->
                            <span class="fs-4 fw-semibold text-gray-500 me-1 align-self-start">$</span>
                            <!--end::Currency-->
                            <!--begin::Amount-->
                            <span class="fs-2hx fw-bold text-gray-900 me-2 lh-1 ls-n2">2,420</span>
                            <!--end::Amount-->
                            <!--begin::Badge-->
                            <span class="badge badge-light-success fs-base">
                                <i class="ki-outline ki-arrow-up fs-5 text-success ms-n1"></i>2.6%</span>
                            <!--end::Badge-->
                        </div>
                        <!--end::Info-->
                        <!--begin::Subtitle-->
                        <span class="text-gray-500 pt-1 fw-semibold fs-6">Average Daily Sales</span>
                        <!--end::Subtitle-->
                    </div>
                    <!--end::Title-->
                </div>
                <!--end::Header-->
                <!--begin::Card body-->
                <div class="card-body d-flex align-items-end px-0 pb-0">
                    <!--begin::Chart-->
                    <div id="kt_card_widget_6_chart" class="w-100" style="height: 80px"></div>
                    <!--end::Chart-->
                </div>
                <!--end::Card body-->
            </div>
            <!--end::Card widget 6-->
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-6 col-xxl-6 mb-2">
            <!--begin::Card widget 6-->
            <div class="card card-flush h-md-75 mb-5">
                <!--begin::Header-->
                <div class="card-header pt-5">
                    <!--begin::Title-->
                    <div class="card-title d-flex flex-column">
                        <!--begin::Info-->
                        <div class="d-flex align-items-center">
                            <!--begin::Amount-->
                            <span class="fs-2hx fw-bold text-gray-900 me-2 lh-1 ls-n2">{{ users }}</span>
                            <!--end::Amount-->
                        </div>
                        <!--end::Info-->
                        <!--begin::Subtitle-->
                        <span class="text-gray-500 pt-1 fw-semibold fs-6">Total Users</span>
                        <!--end::Subtitle-->
                    </div>
                    <!--end::Title-->
                </div>
                <!--end::Header-->
            </div>
            <!--end::Card widget 6-->
        </div>

        <div class="col-md-6 col-lg-6 col-xl-6 col-xxl-6 mb-2">
            <!--begin::Card widget 6-->
            <div class="card card-flush h-md-75 mb-5 mb-xl-10">
                <!--begin::Header-->
                <div class="card-header pt-5">
                    <!--begin::Title-->
                    <div class="card-title d-flex flex-column">
                        <!--begin::Info-->
                        <div class="d-flex align-items-center">
                            <!--begin::Amount-->
                            <span class="fs-2hx fw-bold text-gray-900 me-2 lh-1 ls-n2">{{ articlesCount }}</span>
                            <!--end::Amount-->
                        </div>
                        <!--end::Info-->
                        <!--begin::Subtitle-->
                        <span class="text-gray-500 pt-1 fw-semibold fs-6">Total Articles</span>
                        <!--end::Subtitle-->
                    </div>
                    <!--end::Title-->
                </div>
                <!--end::Header-->
            </div>
            <!--end::Card widget 6-->
        </div>
    </div>

    <div class="row">
        <!--begin::Col-->
        <div class="col-xl-6 mb-xl-10">
            <!--begin::List widget 20-->
            <div class="card h-xl-100">
                <!--begin::Header-->
                <div class="card-header border-0 pt-5">
                    <h3 class="card-title align-items-start flex-column">
                        <span class="card-label fw-bold text-gray-900">Most recent educations</span>
                        <span class="text-muted mt-1 fw-semibold fs-7">{{ educations['educationsCount'] }} educations</span>
                    </h3>
                    <!--begin::Toolbar-->
                    <div class="card-toolbar">
                        <a href="{{ path('dashboard_course_index') }}" class="btn btn-sm btn-light">All Educations</a>
                    </div>
                    <!--end::Toolbar-->
                </div>
                <!--end::Header-->
                <!--begin::Body-->
                <div class="card-body pt-6">
                    <!--begin::Item-->
                    {% for education in educations['educations'] %}
                        <div class="d-flex flex-stack">
                            <!--begin::Symbol-->
                            <div class="symbol symbol-40px me-4">
                                <img alt="" src="{{ asset(app_education_path ~ education.imageName, 'cloudflare') }}"
                                     class=""/>
                            </div>
                            <!--end::Symbol-->
                            <!--begin::Section-->
                            <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                <!--begin:Author-->
                                <div class="flex-grow-1 me-2">
                                    <div class="flex-grow-1 me-2">
                                        <a href="{{ path('dashboard_education_edit', {'uuid': education.uuid}) }}"
                                                                               class="text-gray-800 text-hover-primary fs-6 fw-bold">{{ education.translation('ro').title }}</a>
                                        <span class="text-muted fw-semibold d-block fs-7">Education type - {{ education.type }}</span>
                                    </div>
                                </div>
                                <!--end:Author-->
                                <!--begin::Actions-->
                                <a href="{{ path('dashboard_education_edit', {'uuid': education.uuid}) }}"
                                   class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px">
                                    <i class="ki-outline ki-arrow-right fs-2"></i>
                                </a>
                                <!--begin::Actions-->
                            </div>
                            <!--end::Section-->
                        </div>
                        <!--end::Item-->
                        <!--begin::Separator-->
                        <div class="separator separator-dashed my-4"></div>
                        <!--end::Separator-->
                    {% endfor %}
                </div>
                <!--end::Body-->
            </div>
            <!--end::List widget 20-->
        </div>

        <div class="col-xl-6 mb-xl-10">
            <!--begin::List widget 20-->
            <div class="card h-xl-100">
                <!--begin::Header-->
                <div class="card-header border-0 pt-5">
                    <h3 class="card-title align-items-start flex-column">
                        <span class="card-label fw-bold text-gray-900">Most recent articles</span>
                        <span class="text-muted mt-1 fw-semibold fs-7">{{ articlesCount }} articles</span>
                    </h3>
                    <!--begin::Toolbar-->
                    <div class="card-toolbar">
                        <a href="{{ path('dashboard_article_index') }}" class="btn btn-sm btn-light">All Articles</a>
                    </div>
                    <!--end::Toolbar-->
                </div>
                <!--end::Header-->
                <!--begin::Body-->
                <div class="card-body pt-6">
                    <!--begin::Item-->
                    {% for article in articles %}
                        <div class="d-flex flex-stack">
                            <!--begin::Symbol-->
                            <div class="symbol symbol-40px me-4">
                                <img alt="" src="{{ asset(app_article_path ~ article.imageName, 'cloudflare') }}" class=""/>
                            </div>
                            <!--end::Symbol-->
                            <!--begin::Section-->
                            <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                <!--begin:Author-->
                                <div class="flex-grow-1 me-2">
                                    <a href="{{ path('dashboard_article_edit', {'uuid': article.uuid}) }}">
                                        <span class="text-muted fw-semibold d-block fs-7">{{ article.translation(default_locale).title }}</span>
                                    </a>
                                </div>
                                <!--end:Author-->
                                <!--begin::Actions-->
                                <a href="{{ path('dashboard_article_edit', {'uuid': article.uuid}) }}"
                                   class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px">
                                    <i class="ki-outline ki-arrow-right fs-2"></i>
                                </a>
                                <!--begin::Actions-->
                            </div>
                            <!--end::Section-->
                        </div>
                        <!--end::Item-->
                        <!--begin::Separator-->
                        <div class="separator separator-dashed my-4"></div>
                        <!--end::Separator-->
                    {% endfor %}
                </div>
                <!--end::Body-->
            </div>
            <!--end::List widget 20-->
        </div>
        <!--end::Col-->
    </div>

{% endblock %}

{% block page_javascripts %}
    <script>
        window.chartData = {{ chartData }}
    </script>
    <script src="{{ asset('assets/dashboard/js/charts/chart-4.js') }}"></script>
    <script src="{{ asset('assets/dashboard/js/charts/chart-6.js') }}"></script>
{% endblock %}

